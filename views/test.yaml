# lovelace_gen
############################################################
####                 Test by J-Lindvig                  ####
############################################################

# Here will be dragons

{% set persons = ['Jacob', 'Rikke', 'Cornelie', 'Nathalie', 'Hjalte'] %}

{% set rooms = {
  "KÃ¸kken": ["light.kokken", "light.spisebord", "light.maleri", "light.legekokken", "light.kaffebar", "light.kokkeno", "light.kokkenskabe", "light.kokkenbord"]
} %}

{%- macro ir_command(command) -%}
      service: remote.send_command
      service_data:
        entity_id: remote.rm_mini_3_stuen
        device: Vestel TV
        command: {{ command }}
{%- endmacro %}

{%- macro open_slider(room) -%}
          action: call-service
          service: browser_mod.popup
          service_data:
            title: Indstilling af lys
            style:
              border-radius: 20px
              --ha-card-border-radius: 20px
            card:
              type: entities
              title: {{ room }}
              show_header_toggle: true
              entities:
              {%- for light in rooms[room] %}
                {%- if not loop.first %}
                - type: custom:slider-entity-row
                  entity: {{ light }}
                  #full_row: false
                  toggle: true
                {%- endif %}
              {% endfor %}
            deviceID:
              - this
{%- endmacro %}

{%- macro flag(image, position) -%}
      - type: image
        image: /local/images/flags/{{ image }}
        style:
          top: {{ '32%' if 'full' in position else '55%' }}
          left: 44%
          max-width: 10%
          height: auto
          transform: translate(-50%, -50%) rotate(20deg) skew(20deg)
{%- endmacro %}

title: System
icon: mdi:test-tube
panel: false
cards:

  - type: picture-elements
    image: /local/images/flags/Flagstang.jpg
    elements:
      # FAROE ISLANDS
      {{ flag("Greenland.png", "half") }}

  - !include cards/test/flag_card.yaml

  - type: custom:tv-card
    entity: sun.sun
    name: Vestel TV
    tv: false
    power:
      {{ ir_command("Power") }}
    menu:
      {{ ir_command("Menu") }}
    select:
      {{ ir_command("OK") }}
    back:
      {{ ir_command("Back") }}
    up:
      {{ ir_command("Up") }}
    left:
      {{ ir_command("Left") }}
    right:
      {{ ir_command("Right") }}
    down:
      {{ ir_command("Down") }}
    volume_up:
      {{ ir_command("Volume Up") }}
    volume_down:
      {{ ir_command("Volume Down") }}
    volume_mute:
      {{ ir_command("Mute") }}

  - type: custom:gui-sandbox